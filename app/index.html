<!doctype html>
<html class="no-js">
	<head>
		<meta charset="utf-8">
		<title>timeline creation tool</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="shortcut icon" href="/favicon.ico">
		<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
		<!-- build:css(.) styles/vendor.css -->
		<!-- bower:css -->
		<!-- endbower -->
		<!-- endbuild -->
		<!-- build:css(.tmp) styles/main.css -->
		<link rel="stylesheet" href="styles/main.css">
		<!-- endbuild -->
		<!-- build:js scripts/vendor/modernizr.js -->
		<script src="bower_components/modernizr/modernizr.js"></script>
		<!-- endbuild -->


	</head>
	<body>
		<!--[if lt IE 10]>
		<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
		<![endif]-->


<!-- nav -->

			<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
			  <div class="container-fluid">
				<!-- Brand and toggle get grouped for better mobile display -->
				<div class="navbar-header">
				  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				  </button>
				  <a class="navbar-brand" href="#">SUBLIGHT</a>
				</div>

				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				  <ul class="nav navbar-nav">
					<li class="active"><a href="#">Link</a></li>
					<li><a href="#">Link</a></li>
					<li class="dropdown">
					  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <span class="caret"></span></a>
					  <ul class="dropdown-menu" role="menu">
						<li><a href="#">Action</a></li>
						<li><a href="#">Another action</a></li>
						<li><a href="#">Something else here</a></li>
						<li class="divider"></li>
						<li><a href="#">Separated link</a></li>
						<li class="divider"></li>
						<li><a href="#">One more separated link</a></li>
					  </ul>
					</li>
				  </ul>

				  <ul class="nav navbar-nav navbar-right">
					<li><a href="#">Link</a></li>
					<li class="dropdown">
					  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <span class="caret"></span></a>
					  <ul class="dropdown-menu" role="menu">
						<li><a href="#">Action</a></li>
						<li><a href="#">Another action</a></li>
						<li><a href="#">Something else here</a></li>
						<li class="divider"></li>
						<li><a href="#">Separated link</a></li>
					  </ul>
					</li>
				  </ul>
				</div><!-- /.navbar-collapse -->
			  </div><!-- /.container-fluid -->
			</nav>
<!-- /nav -->

<!-- 			<div class="hero">
				<h1>Hi...</h1>
				<p><a class="btn btn-lg btn-success" href="#">Good JERB! <span class="glyphicon glyphicon-ok"></span></a></p>
			</div> -->

<!-- main area -->

		<div class="container">
			<div class="jumbotron">
				<canvas id="myCanvas" width="150" height="150">
				</canvas>

				<div class="form-group">
					<div class="row dateRange">
						<div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
							<div class="input-group">
							  <span class="input-group-addon">START YEAR</span>
							  <input type="text" class="form-control startYear" placeholder="earliest year" value="1980">
							</div> <!-- /.input-group -->
						</div> <!-- /.col-xs-6 col-sm-6 -->


						<div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
							<div class="input-group">
							  <span class="input-group-addon">END YEAR</span>
							  <input type="text" class="form-control endYear" placeholder="latest year" value="1990">
							  	<span class="input-group-btn">
									<button class="btn btn-default go" type="button">+</button>
								</span> <!-- /.input-group-btn -->
							</div> <!-- /.input-group -->
						</div> <!-- /.col-xs-6 col-sm-6 -->
					</div> <!-- /.row -->


					<div class="row dataPoint">
						<div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
							<div class="input-group">
								<span class="input-group-addon">ADD START</span>
								<input type="text" class="form-control dataPoint-start-input" value="1981">
							</div> <!-- /input-group -->
						</div> <!-- /.col-lg-6 -->
 

						<div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
							<div class="input-group">
								<span class="input-group-addon">ADD END</span>
								<input type="text" class="form-control dataPoint-end-input" value="1983">
								<span class="input-group-btn">
									<button class="btn btn-default add" type="button">add</button>
								</span> <!-- /.input-group-btn -->
							</div> <!-- /input-group -->
						</div> <!-- /.col-lg-6 -->				
					</div> <!-- /.row -->

				</div> <!-- /.form-group -->
			</div> <!-- /.jumbotron -->

			<!-- <button class="save btn">Save as PNG</button> -->

		</div>

<!-- /main area -->

			<div class="footer"></div>

		<!-- build:js(.) scripts/vendor.js -->
		<!-- bower:js -->
		<script src="bower_components/jquery/dist/jquery.js"></script>
		<script src="bower_components/paper/dist/paper-full.js"></script>
		<script src="bower_components/underscore/underscore.js"></script>
		<script src="bower_components/blob/blob.js"></script>
		<script src="bower_components/FileSaver/FileSaver.js"></script>
		<script src="bower_components/jquery-mousewheel/jquery.mousewheel.js"></script>
		<!-- endbower -->
		<!-- endbuild -->
		<script src="//www.parsecdn.com/js/parse-1.2.18.min.js"></script>


		<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
		<script>
		(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
		function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
		e=o.createElement(i);r=o.getElementsByTagName(i)[0];
		e.src='//www.google-analytics.com/analytics.js';
		r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
		ga('create','UA-XXXXX-X');ga('send','pageview');
		</script>
		<!-- build:js(.) scripts/plugins.js -->
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/affix.js"></script>
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/alert.js"></script>
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/dropdown.js"></script>
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/tooltip.js"></script>
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/modal.js"></script>
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/transition.js"></script>
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/button.js"></script>
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/popover.js"></script>
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/carousel.js"></script>
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/scrollspy.js"></script>
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/collapse.js"></script>
		<script src="bower_components/bootstrap-sass-official/vendor/assets/javascripts/bootstrap/tab.js"></script>
		<!-- endbuild -->
		<!-- build:js({app,.tmp}) scripts/main.js -->
		<script src="scripts/canvas-toBlob.js"></script>
		<script src="scripts/data.js"></script>
		<script src="scripts/main.js"></script>
		<!-- endbuild -->
		





<script type="text/paperscript" canvas="myCanvas">
// =======================================================================
console.log('%cCanvas width is ' + view.size.width, 'font-size:20px;background-color:orange')
console.log('%cCanvas height is ' + view.size.height, 'font-size:20px;background-color:orange')
// =======================================================================
// VARIABLES
// =======================================================================
var grayDarker 		=	'#222';
var grayDark 		=	'#333';
var gray 			=	'#555';
var grayLight 		=	'#777';
var grayLighter 	=	'#eee';

var brandPrimary 	=	'#428bca';
var brandSuccess 	=	'#5cb85c';
var brandInfo 		=	'#5bc0de';
var brandWarning 	=	'#f0ad4e';
var brandDanger 	=	'#d9534f';

// =======================================================================
// Load Canvas
// =======================================================================
paper.view.center = view.center;



// =======================================================================
// Draw the Splash Animation
// =======================================================================
var star = new Path.Circle(new Point(view.center), 100);
	star.style = {fillColor: 'yellow', strokeColor: null};

	var moonGroup1 = new Path.Circle(new Point(view.center), 200);
	// moonGroup1.style = {strokeColor: 'black'}
	var moonGroup1a = new Path.Circle(new Point(view.center + 800), 25);
		moonGroup1a.style = {
			fillColor: 'rgb(86, 75, 146)',
			strokeColor: null};

	var moonGroup2 = new Path.Circle(new Point(view.center), 200);
	// moonGroup2.style = {strokeColor: 'black'}
	var moonGroup2a = new Path.Circle(new Point(view.center + 100), 5);
		moonGroup2a.style = {
			fillColor: 'rgb(200, 192, 62)',
			strokeColor: null};

	var moonGroup3 = new Path.Circle(new Point(view.center), 200);
	// moonGroup2.style = {strokeColor: 'black'}
	var moonGroup3a = new Path.Circle(new Point(view.center - 200), 5);
		moonGroup3a.style = {
			fillColor: 'rgb(168, 121, 84)',
			strokeColor: null};

		var group1 = new Group([moonGroup1, moonGroup1a])
		var group2 = new Group([moonGroup2, moonGroup2a])
		var group3 = new Group([moonGroup3, moonGroup3a])

		var point1 = moonGroup1.center;
		// var point2 = copy.bounds.bottomLeft;

		function onFrame(event){
			group1.rotate(0.5, point1)
			group2.rotate(2, point1)
			group3.rotate(1, point1)
			// group.fillColor.hue = Math.random() * 50.5°;
		}

// =======================================================================
// Draw canvas elements onClick of $('.go')
// =======================================================================
$('.go').click(function(){

	var path = new Path({
		strokeColor: [0.8], // 80% black:
		strokeCap: 'square',
		// fullySelected: true
	});

	var referencePath = new Path({
		strokeColor: [0.8], // 80% black:
		strokeCap: 'square',
		// fullySelected: true
	});

	var style = {
		fillColor: 'red',
		strokeColor: [0.8],
		strokeWidth: 2,
		fontSize: 20
	};
// =======================================
// Take date inputs and draw the timeline
// =======================================
	$('.dateRange').addClass('activated');
	$('.dataPoint').addClass('activated');
	project.clear();
	startYearString = $('.startYear').val();
	endYearString = $('.endYear').val();

	var startYear = parseInt(startYearString);
	var endYear = parseInt(endYearString);
	var dateRange = (endYear - startYear);

// =======================================================================
console.log('%cThe span of dates being viewed is ' + (dateRange - 1) + ' years.', 'font-size:20px;color:green');
console.log('%cStartYear is ' + startYear, 'font-size:20px;color:green')
// =======================================================================
	// // OLD SOLUTION
	// for (var a = 0; a <= dateRange + 1; a++) {
	// 		// var d = new Point(i / dateRange, 1) * (view.size -= 50);
	// 			date = path.add(new Point(a / dateRange, 1) * (view.size -=55));
	// 			var dateList = new PointText(new Point(a / dateRange, 1) * (view.size -= 50));
	// 				dateList.content = (startYear += 1);
	// 				// dateList.style = style;
	// 				// dateList.fontSize = 500 / dateRange;
	// 				dateList.rotate(270);
	// 				// console.log(date.segment);
	// };
	// for (var b = 0; b <= dateRange; b++) {
	// 	var dataPointRect = new Rectangle(view.size / b, 10);
	// 	var dataPointPath = new Path.Rectangle(dataPointRect);
	// 		dataPointPath.style = style;
	// 	// console.log(dataPointPath.position);
	// };

	// // MASON'S SOLUTION
	// for (var i = 0; i < 10; i++) {
	// 		var dateList = new PointText(new Point(view.size / i, 200));
	// 		dateList.content = (i);
	// 		dateList.style = style;
	// 		dateList.rotate(270)
	// }


	// // NEW SOLUTION
	var width, height, center;
	var points = 10;
	var smooth = true;
	var path = new Path();
	var referencePath = new Path();
	var mousePos = view.center / 2;
	var pathHeight = mousePos.y;
		// path.fillColor = 'black';
		path.strokeWidth = 3;
		path.strokeColor = brandDanger;
		initializePath();

	function initializePath() {
		center = view.center;
		width = view.size.width;
		height = view.size.height / 2
		path.segments = [];
		path.add([view.bounds.left,(view.bounds.bottom - 50)]);
		for (var i = 1; i < dateRange; i++) {
			var point = new Point(width / dateRange * i, (view.bounds.bottom - 50));
			path.add(point);
		}
			path.add([view.bounds.right,(view.bounds.bottom - 50)]);
			// path.fullySelected = true;
			initializePointText();
	}

	function initializePointText(){
		var counter = startYear;
			for (var i = 1; i < dateRange; i++) {
				var dateList = new PointText(width / dateRange * i, (view.bounds.bottom - 50));
					dateList.content = (counter += 1);
					dateList.fillColor = 'white';
					dateList.rotate(300);
					dateList.position.x -=14;
					dateList.position.y +=25;
				}
					initializeReferencePath();
	}

	function initializeReferencePath() {
		for (var i = 1; i < dateRange; i++) {
		var from = new Point(width / dateRange * i, 0);
		var to = new Point(width / dateRange * i,(view.bounds.bottom - 50));
			var referencePath = new Path.Line(from, to);
				referencePath.style = style;
				referencePath.strokeColor = 'black';
				// referencePath.strokeWidth = '5';
			}
	}

// =========================
// Redraw canvas after click
// =========================
	paper.view.draw();



// =======================================================================
// Add new dataPoint to graph
// =======================================================================
	$('.add').click(function(){
		width = view.size.width;

		// console.clear();
		$('.dateRange').addClass('activated');
		$('.dataPoint').addClass('activated');
		dataPointStartString = $('.dataPoint-start-input').val();
		dataPointEndString = $('.dataPoint-end-input').val();
		var style = {
			fillColor: 'red',
			strokeColor: 'black',
			strokeWidth: 2,
			fontSize: 20
		};

		var dataPointStart	= parseInt(dataPointStartString);
		var dataPointEnd	= parseInt(dataPointEndString);
		var dataPointRange	= dataPointEnd - dataPointStart;


//    .-')     ('-.     ('-.        .-. .-')    ('-.                         (`\ .-') /`   
//   ( OO ). _(  OO)  _(  OO)       \  ( OO ) _(  OO)                         `.( OO ),'   
//  (_)---\_|,------.(,------.       ;-----.\(,------.,--.     .-'),-----. ,--./  .--.     
//  /    _ | |  .---' |  .---'       | .-.  | |  .---'|  |.-')( OO'  .-.  '|      |  |     
//  \  :` `. |  |     |  |           | '-' /_)|  |    |  | OO )   |  | |  ||  |   |  |,    
//   '..`''.||  '--. (|  '--.        | .-. `.(|  '--. |  |`-' \_) |  |\|  ||  |.'.|  |_)   
//  .-._)   \|  .--'  |  .--'        | |  \  ||  .--'(|  '---.' \ |  | |  ||         |     
//  \       /|  `---. |  `---.       | '--'  /|  `---.|      |   `'  '-'  '|   ,'.   |     
//   `-----' `------' `------'       `------' `------'`------'     `-----' '--'   '--'     
                                                                                   

		var dataPointRangeCounter = dataPointRange;
		var dataPointRect = new Rectangle(
							new Point(0, (view.bounds.bottom - 100)), 
							new Size(((width / dateRange) * dataPointRange), 10)
						);
			var path = new Path.Rectangle(dataPointRect);
				path.fillColor = {
				hue: Math.random() * 360,
				saturation: 1,
				brightness: 1
				};


//    .-')     ('-.     ('-.           ('-.    .-. .-')                    (`-.     ('-.   
//   ( OO ). _(  OO)  _(  OO)         ( OO ).-.\  ( OO )                 _(OO  )_ _(  OO)  
//  (_)---\_|,------.(,------.        / . --. / ;-----.\ .-'),-----. ,--(_/   ,. (,------. 
//  /    _ | |  .---' |  .---'        | \-.  \  | .-.  |( OO'  .-.  '\   \   /(__/|  .---' 
//  \  :` `. |  |     |  |          .-'-'  |  | | '-' /_)   |  | |  | \   \ /   / |  |     
//   '..`''.||  '--. (|  '--.        \| |_.'  | | .-. `.\_) |  |\|  |  \   '   /,(|  '--.  
//  .-._)   \|  .--'  |  .--'         |  .-.  | | |  \  | \ |  | |  |   \     /__)|  .--'  
//  \       /|  `---. |  `---.        |  | |  | | '--'  /  `'  '-'  '    \   /    |  `---. 
//   `-----' `------' `------'        `--' `--' `------'     `-----'      `-'     `------' 


//     _              _   _   _                                  _   _     _       
//    / \   _ __   __| | | |_| |__   ___ _ __    ___  ___  ___  | |_| |__ (_)___ _ 
//   / _ \ | '_ \ / _` | | __| '_ \ / _ | '_ \  / __|/ _ \/ _ \ | __| '_ \| / __(_)
//  / ___ \| | | | (_| | | |_| | | |  __| | | | \__ |  __|  __/ | |_| | | | \__ \_ 
// /_/   \_|_| |_|\__,_|  \__|_| |_|\___|_| |_| |___/\___|\___|  \__|_| |_|_|___(_)
// This is my breakdown of the data i cant figure out. (ie: x)
// ================================================================================================
	// var foo = new Rectangle(new Point(x,y), new Size(width, height))
	// var foo = new Rectangle(new Point( x, view.bounds.bottom - 100 ), new Size(width, 10))
	// var foo = new Rectangle(new Point( x, view.bounds.bottom - 100 ), new Size(((width / dateRange)*datePointRange), 10))
// ================================================================================================                                                                                






// ================================================================================================
		console.log('%cData Start = ' + dataPointStart, 'font-size:20px;background-color:yellow');
		console.log('%cData End = ' + dataPointEnd, 'font-size:20px;background-color:yellow');
		console.log('%cDifference = ' + dataPointRange, 'font-size:20px;background-color:yellow;');
// ================================================================================================
// =================================================
		// // CLEAR INPUT FIELDS FOR NEW DATAPOINT
		// $('.dataPoint-start-input').val('');
		// $('.dataPoint-end-input').val('');
// =================================================
// =========================
// Redraw canvas after click
// =========================
	paper.view.draw();

	});
});


// =======================================================================
	function onResize(event) {
		// Resize the red circle to fill the bounds of the view:
		// rectangle.fitBounds(view.bounds, true);
		// paper.view.update();
	}
// =======================================================================
		</script>
		






	</body>
</html>